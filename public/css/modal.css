/* Standalone modal stylesheet (glassmorphism), shared by any .app-modal wrapper */

/* Overlay dimming */
.app-modal .modal-overlay { opacity: 0; background: rgba(0, 0, 0, 0.30); }
html[data-theme="light"] .app-modal .modal-overlay { background: rgba(0, 0, 0, 0.18); }

/* Glass modal surface */
.app-modal .modal-surface {
  /* Subtle translucent background plus blur and saturation for glass look */
  background: color-mix(in oklab, var(--bg-body) 50%, transparent);
  background-color: color-mix(in oklab, var(--bg-body) 50%, transparent);
  color: var(--text-primary);
  border: 1px solid color-mix(in oklab, var(--text-primary) 12%, transparent);
  box-shadow: 0 8px 30px rgba(0,0,0,0.35), inset 0 1px 0 color-mix(in oklab, #fff 8%, transparent);
  -webkit-backdrop-filter: saturate(140%) blur(18px);
  backdrop-filter: saturate(140%) blur(18px);
  opacity: 1;
  transform: translateY(-16px); /* start slightly above for top-in */
  will-change: opacity, transform;
}
html[data-theme="light"] .app-modal .modal-surface {
  background: color-mix(in oklab, #ffffff 55%, transparent);
  background-color: color-mix(in oklab, #ffffff 55%, transparent);
  color: #1A1A1A;
  border-color: color-mix(in oklab, #000 10%, transparent);
  box-shadow: 0 8px 28px rgba(0,0,0,0.12), inset 0 1px 0 rgba(255,255,255,0.5);
}
html[data-theme="dark"] .app-modal .modal-surface {
  background: color-mix(in oklab, #0a0a0a 60%, transparent);
  background-color: color-mix(in oklab, #0a0a0a 60%, transparent);
  color: #F5F5F5;
  border-color: color-mix(in oklab, #fff 14%, transparent);
}

/* Modal helpers */
.app-modal .modal-body { overflow: auto; }

/* Gradient heading utility for modal */
.app-modal .modal-title {
  background: linear-gradient(135deg, var(--grad-text-from), var(--grad-text-via), var(--grad-text-to));
  -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent;
}

/* Open/close animations */
.app-modal[data-open="true"] .modal-overlay { animation: overlayIn 200ms ease forwards; }
.app-modal[data-open="true"] .modal-surface { animation: modalIn 220ms ease-out forwards; }
.app-modal[data-closing="true"] .modal-overlay { animation: overlayOut 180ms ease forwards; }
.app-modal[data-closing="true"] .modal-surface { animation: modalOut 180ms ease-in forwards; }

/* Keyframes */
@keyframes overlayIn { from { opacity: 0; } to { opacity: 1; } }
@keyframes overlayOut { from { opacity: 1; } to { opacity: 0; } }
@keyframes modalIn { from { opacity: 0; transform: translateY(-16px); } to { opacity: 1; transform: translateY(0); } }
@keyframes modalOut { from { opacity: 1; transform: translateY(0); } to { opacity: 0; transform: translateY(-16px); } }
